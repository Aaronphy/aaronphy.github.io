{% extends 'includes/layout.njk' %}

{% block body %}
  {% set categoriesList = list_categories({ show_count: false }) %}
  {% set tagsList = list_tags({ show_count: false }) %}
  {% set archivesList = list_archives({ show_count: false }) %}

  {% if not is_year() %}
    <div class="app-page markdown-body app-archive">
      <aside class="archive-main">
        <h1>Archives</h1>
        {% if archivesList %}
          {{ archivesList }}
        {% else %}
          <p>None.</p>
        {% endif %}
      </aside>
      <aside class="archive-extra">
        <h1>Categories</h1>
        {% if categoriesList %}
          {{ categoriesList }}
        {% else %}
          <p>None.</p>
        {% endif %}
         <h1>Tags</h1>
        {% if tagsList %}
          {{ tagsList }}
        {% else %}
          <p>None.</p>
        {% endif %}
      </aside>
    </div>
    {% else %}
        <div class="app-page markdown-body">
              <h1>{{ page.month + '/' + page.year }}</h1>
              {% for postItem in page.posts.toArray() %}
                <div class="archive-item">
                  <a href="{{ url_for(postItem.path) }}">
                    {{ postItem.title }}
                  </a>
                  <time datetime="{{ date_xml(postItem.date) }}">
                    {{ date(postItem.date) }}
                  </time>
                </div>
              {% endfor %}
        </div>
        <div class="app-paginator">
                {{ paginator() }}
        </div>
  {% endif %}
{% endblock %}
